<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Export Blog Posts - Tippanna Bangi</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Export Blog Posts for GitHub Pages</h1>
        
        <div class="bg-slate-800 p-6 rounded-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">Instructions:</h2>
            <ol class="list-decimal list-inside space-y-2 text-slate-300">
                <li>Create blog posts using the admin panel</li>
                <li>Click "Export to JSON" below to download the blog-posts.json file</li>
                <li>Replace the existing blog-posts.json file in your repository with the downloaded file</li>
                <li>Commit and push to GitHub to update your live blog</li>
            </ol>
        </div>

        <div class="bg-slate-800 p-6 rounded-lg mb-6">
            <h2 class="text-xl font-semibold mb-4">Current Blog Posts:</h2>
            <div id="posts-list" class="space-y-4">
                <!-- Posts will be listed here -->
            </div>
        </div>

        <div class="flex space-x-4">
            <button id="export-btn" class="bg-teal-500 text-slate-900 font-bold py-2 px-6 rounded-lg hover:bg-teal-400 transition-colors">
                Export to JSON
            </button>
            <button id="clear-btn" class="bg-red-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-400 transition-colors">
                Clear All Posts
            </button>
        </div>

        <div id="export-result" class="mt-6 hidden">
            <!-- Export result will be shown here -->
        </div>
    </div>

    <script>
        // Load and display posts
        function loadPosts() {
            const posts = JSON.parse(localStorage.getItem('blog_posts') || '[]');
            const container = document.getElementById('posts-list');
            
            if (posts.length === 0) {
                container.innerHTML = '<p class="text-slate-400">No blog posts found in localStorage.</p>';
                return;
            }

            container.innerHTML = posts.map(post => `
                <div class="bg-slate-700 p-4 rounded-lg">
                    <h3 class="font-semibold text-white">${post.title}</h3>
                    <p class="text-sm text-slate-400 mt-1">${post.description}</p>
                    <p class="text-xs text-slate-500 mt-2">Created: ${new Date(post.date).toLocaleDateString()}</p>
                </div>
            `).join('');
        }

        // Export posts to JSON file
        function exportPosts() {
            const posts = JSON.parse(localStorage.getItem('blog_posts') || '[]');
            
            if (posts.length === 0) {
                alert('No blog posts to export!');
                return;
            }

            const jsonString = JSON.stringify(posts, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'blog-posts.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            document.getElementById('export-result').innerHTML = `
                <div class="bg-green-800 p-4 rounded-lg">
                    <p class="text-green-300">‚úÖ Successfully exported ${posts.length} blog post(s) to blog-posts.json</p>
                    <p class="text-sm text-green-400 mt-2">Now replace the blog-posts.json file in your repository and push to GitHub.</p>
                </div>
            `;
            document.getElementById('export-result').classList.remove('hidden');
        }

        // Clear all posts
        function clearPosts() {
            if (confirm('Are you sure you want to clear all blog posts? This action cannot be undone.')) {
                localStorage.removeItem('blog_posts');
                loadPosts();
                document.getElementById('export-result').innerHTML = `
                    <div class="bg-red-800 p-4 rounded-lg">
                        <p class="text-red-300">üóëÔ∏è All blog posts have been cleared from localStorage.</p>
                    </div>
                `;
                document.getElementById('export-result').classList.remove('hidden');
            }
        }

        // Event listeners
        document.getElementById('export-btn').addEventListener('click', exportPosts);
        document.getElementById('clear-btn').addEventListener('click', clearPosts);

        // Load posts on page load
        loadPosts();
    </script>
</body>
</html>
